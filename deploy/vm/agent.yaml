agent:
  server_endpoint: "localhost:50051"   # IP/hostname of the obsidianstack-server
  server_auth:
    mode: none                         # set to apikey in production

  scrape_interval: 15s
  ship_interval:   15s
  buffer_size:     1000

  sources:
    # --- Prometheus ---
    - id: "prometheus-prod"
      type: prometheus
      endpoint: "http://prometheus:9090/metrics"
      auth:
        mode: none
      # For remote Prometheus with basic auth:
      # auth:
      #   mode: basic
      #   username: "admin"
      #   password_env: PROM_PASSWORD    # set in agent.env

    # --- Loki ---
    - id: "loki-prod"
      type: loki
      endpoint: "http://loki:3100/metrics"
      auth:
        mode: none

    # --- OTel Collector ---
    # - id: "otel-collector"
    #   type: otelcol
    #   endpoint: "http://otelcol:8888/metrics"
    #   auth:
    #     mode: none

    # --- Fluent Bit ---
    # - id: "fluent-bit"
    #   type: fluentbit
    #   endpoint: "http://fluent-bit:2020"
    #   auth:
    #     mode: none
